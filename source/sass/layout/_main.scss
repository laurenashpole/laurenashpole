.main {
  @include flex-child(2);
  @include flex();
  @include flex-direction(column);
}

.main--bg-fixed {
  @include flex-justify(center);

  // &:before {
  //   content: " ";
  //   background-image: url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 160 150'%3E%3Cpath fill='#{$color-pink-encoded}' d='M6 3.8c-6.3 1.7-7.9 8.9-3.5 13.9 1.7 1.9 3.8 3.4 6.1 4.4 6.9 3.1 14 3.6 21.3 2.2 4.5-.8 8.2-3.1 11.5-6.1 2-1.9 3.5-4.2 3.5-7.1C45.1 6 40 0 34.9 0 20.5 0 13.5 1.8 6 3.8zM86 78.8c-6.3 1.7-7.9 8.9-3.5 13.9 1.7 1.9 3.8 3.4 6.1 4.4 6.9 3.1 14 3.6 21.3 2.2 4.5-.8 8.2-3.1 11.5-6.1 2-1.9 3.5-4.2 3.5-7.1.1-5-5-11.1-10.1-11.1-14.3 0-21.3 1.8-28.8 3.8z'/%3E%3C/svg%3E");
  //   background-size: 55px;
  //   width: 550px;
  //   height: 320px;
  //   position: fixed;
  //   top: 7.5rem;
  //   left: calc(50% - 200px);
  //   z-index: -1;
  //   @include transform(rotate(30deg));
  // }

  &:after {
    content: " ";
    background-image:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 529.7 323.9'%3E%3Cpath fill='#{$color-orange-encoded}' d='M150 53.3c6.1.5 10.1 3.7 11.2 8.5 1.1 5-1.5 9.9-6.6 12.5-1.2.6-2.3 1-3.5 1.4-11.7 3.1-23.5 6.2-35.3 9.1-2.3.6-4.7.8-7 .7-3.5-.1-6.3-1.8-7.7-5.2-1.3-3.3-.5-6.5 1.8-9.1 1.2-1.3 2.6-2.6 4.1-3.5 12.3-7.4 25.6-11.8 39.7-14.3 1.2-.3 2.5-.1 3.3-.1zM339.9 87.8c-2.1-.4-4.1-.6-5.9-1.1-6.3-2.2-7.6-9-2.6-13.3 1.7-1.5 3.9-2.7 6-3.7 10.8-5 22.2-8.2 34.1-8.8 4.2-.2 8.9.4 12.7 2 8.4 3.6 8.8 12.2 1.1 17.1-1.8 1.1-3.9 2.2-5.9 2.5-13 2.5-26.2 5-39.5 5.3zM233.3 258.3c-4-.4-6.8-1.3-8-4.7-1.2-3.5.6-7 3-9.1 1.3-1.2 2.8-2.3 4.4-3.1 12.2-6.4 25.3-10.1 39.1-10.2 2.9 0 5.8.4 8.6 1 4.8.9 7.8 4 8.3 8.2.4 4.1-1.8 7.7-6.4 9.8-1.5.7-3 1.2-4.6 1.7-14.7 4.1-30 5.5-44.4 6.4zM333.6 138.4c2.6.4 4.1.6 5.4 1 4.1 1.4 7.2 3.6 7.7 8.2.5 4.3-1.6 7.6-5.1 9.5-3.5 1.8-7.3 3.4-11.2 4-9.8 1.8-19.7 3-29.6 4.4-1.9.2-3.9.4-5.9.3-3.3-.2-6-1.7-7.2-4.9-1.2-3.4-.1-6.4 2.4-8.9.7-.6 1.3-1.3 2.1-1.7 13-7.8 27.5-10.7 41.4-11.9zM267.3 91.1c.8.1.9.1 1.1.1 5.4.7 9.1 3.5 9.9 7.3.7 3.7-1.9 7.7-6.7 10.2-2.6 1.3-5.3 2.3-8.2 3-11.1 2.6-22.3 5.1-33.5 7.5-.9.2-1.8.2-2.7.3-4.6.3-7.5-1.3-9-4.6-1.4-3.2-.8-6.9 2.6-9.8 2.5-2.3 5.5-4.3 8.5-5.7 11.6-5.1 23.8-7.5 36.5-8.3.6-.1 1.3 0 1.5 0zM346.3 229.6c-4.7-.6-7.7-1.9-9-5.7-1.2-3.6.1-6.7 2.8-8.8 3.5-2.7 7.5-5.3 11.6-7 7.9-3.4 16.3-5.2 24.9-5.6 2.8-.2 5.9.3 8.5 1.4 6.6 2.8 8.2 10.7 3 15.7-2.1 2.1-5 3.8-7.8 4.6-5.2 1.4-10.6 2.4-15.9 3.2-6.4 1-12.8 1.6-18.1 2.2zM159.6 122c1.6.4 3.4.8 5 1.5 5.1 2.6 6.6 8.6 2.8 12.8-2.1 2.3-5.1 4.3-8 5.3-10.7 3.6-21.5 6.7-32.3 9.7-2.1.6-4.3.7-6.5.6-3.5-.1-6.3-1.9-7.5-5.3-1.3-3.5.3-6.4 2.9-8.7.9-.7 1.7-1.4 2.7-1.9 10.6-6.9 22.4-11 34.7-13.6 2-.4 4-.3 6.2-.4zM136.4 290.9c-6.1-.4-9.8-6.5-6.5-11.4 1.4-2.1 3.3-3.9 5.3-5.5 8.5-6.3 18-10.4 28.3-12.2 3-.5 6.2-.4 9.1.3 4.1.9 7.2 3.4 8.3 7.7 1.1 4.4-.7 8-4 10.5-2.3 1.7-4.9 3.4-7.7 3.9-10.6 2.1-20.4 4.7-31.2 6.5-.6.2-1.2.2-1.6.2zM224 169.7c.7.1 1.2.1 1.7.2 4.8.9 8 3.6 8.6 7.3.6 4.1-1.3 7.8-5.7 10.2-2.2 1.2-4.6 2.1-7.1 2.8-9.3 2.4-18.7 4.6-28 6.8-1.9.4-4 .6-6 .5-3.5-.2-6.3-1.9-7.6-5.3-1.2-3.2-.3-6.1 2-8.5 1.2-1.3 2.6-2.5 4.2-3.4 11.1-6.3 23-9.5 35.7-10.6.9-.1 1.6-.1 2.2 0zM9.1 266.4c-7.5-.7-11.3-7.2-7.9-13.4 1.4-2.5 3.5-4.7 5.8-6.4 7.9-6 17-9.1 26.7-10.1 3.1-.3 6.6.3 9.5 1.5 6.3 2.7 8 9.5 3.6 14.9-2 2.4-4.7 4.8-7.6 5.8-9 2.9-18.1 5.1-27.2 7.7-1.1.2-2.2 0-2.9 0zM403.9 144.2c-3.8-.9-6.9-1.3-9.7-2.6-5.5-2.5-6.1-8.5-1.4-12.3.9-.7 1.8-1.2 2.8-1.7 9.9-4.1 20.1-7.4 31-7.5 3.1 0 6.6.7 9.4 2 7 3.3 7.8 11.7 1.6 16.4-2.6 1.9-5.8 3.3-8.9 3.7-8.5 1-17 1.4-24.8 2zM316.3 23.1c-3.8-.7-6.3-4-6.7-7.1-.6-3.5 1.1-5.9 3.8-7.9.9-.6 1.8-1.2 2.9-1.7C326 2.1 337.8.1 348.5 0c3.2 0 6.5.7 9.5 1.7 3.6 1.3 5.8 4.4 5.9 8.4 0 4.1-2.2 6.7-5.8 8.4-1.1.5-2.3 1.1-3.5 1.3-11.1 1.4-24.1 1.9-35.1 3.2M215.5 45.9c-4-.2-6.6-1.5-7.7-4.6-1-2.7.1-5.9 2.9-8.2 1.7-1.4 3.6-2.4 5.6-3.3 9.6-4.5 19.8-7.3 30.3-8.5 3.1-.3 6.5 0 9.7.5 3.9.7 6.4 3.8 6.6 7.1.3 3.7-1.7 6.2-4.8 7.9-1.6.9-3.4 1.6-5.1 2-11.2 2.3-22.4 4.6-33.6 6.7-1.5.4-3.1.4-3.9.4zM50.9 323.9c-4.4-.6-8-1.7-9.6-5.8-1.7-4.2-.3-8 2.8-10.9 8-7.8 18.1-10.6 28.9-10.3 5.6.2 9.7 4.5 10.5 9.5.8 5.2-1.7 10.2-6.9 12.3-8.4 3.3-17.2 5-25.7 5.2zM449.1 67.6c-5.1-1.2-7.9-3-8.6-6.9-.8-3.9 1-5.9 4.2-7.8 9.3-5.5 19.4-8 30.2-5.7 1.9.4 3.8 1.3 5.3 2.5 5.1 3.9 5.1 9.5.2 13.4-1.4 1.1-3.1 2-4.7 2.6-9.3 2.8-18.7 2.2-26.6 1.9zM491.6 129.6c-4.2-.8-7.8-1.7-9.2-5.5-1-2.8.9-7.3 5.4-9.8 8.2-4.4 16.8-5.3 26-6.3 3.1-.3 6.5.1 9.7.8 3.6.9 5.8 3.6 6.2 7.5.3 3.6-1.5 8.4-4.5 10-1.9 1-4 2-6.1 2.2-9.6.9-19.1.5-27.5 1.1zM101.4 228.3c-3.3-.2-5.6-1.2-6.7-3.8-1.3-2.8-.5-5.6 1.6-7.5 2.4-2.2 4.9-4.4 7.8-5.7 5.6-2.6 11.2-5.1 17.1-6.7 3.1-.8 7-.4 10.1.7 6.7 2.5 7.7 9.6 2.3 14.3-1.2 1.1-2.6 2.2-4.1 2.5-8.5 2.3-17.1 4.2-25.7 6.3-1.2 0-2.1-.1-2.4-.1zM57.6 160.1c6.6.6 9.4 2.6 10.2 6.1.8 3.4-.9 6.5-5 8.8-1.9 1-4 1.9-6 2.5-4.6 1.5-9.3 3-14 4.3-1.7.4-3.6 1-5.3.8-4.4-.2-6.7-3.9-5.1-8.1.3-.7.5-1.4 1.1-1.9 6.9-7.6 15.7-11.7 24.1-12.5z'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 469.8 381.5'%3E%3Cpath fill='#{$color-blue-encoded}' d='M452.9 294.8c-26 17.8-62.1-2.7-86.6 10.7-27.9 15.2-23.3 76-39.3 76-80.8 0-75.1-77.1-141.3-115.5-59-34.3-102.8-39-131.7-57.9-25.4-16.6-51.8-33.3-54-82.2-.6-12.3 7.7-31.1 26.1-31.1 17.8 0 36.7 11 52.3 11 10 0 13.3-7.1 12.2-21-1.2-15-16.8-42.2-17.9-60C71.7 8.3 85-4.5 123.3 1.5c38.5 6 87.2 54.5 115.1 53.3 27.7-1.1 12.2-37.8 43.3-37.8 32.2 0 127 103.4 168.9 190 19.4 40 30 68.9 2.3 87.8z'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 552 419'%3E%3Cpath fill='#{$color-green-encoded}' d='M183.6 414.2c-32.8-5.4-20.7-42.9-36.6-62-19.5-23.3-63.6-23.1-91.4-27.4-54.9-8.4-80.7-22.7-20.2-47.8 72-29.9 138.8-54.5 199.4-106.3 33.7-28.7 61.3-62.4 89.3-96.6 16.8-20.6 43-63.5 70.6-71 83.2-22.5 45.2 107.2 81.3 136 17.5 14 51 2.1 67 18.9 18.3 19.3 3 61.1-5.3 83.3C487.5 375.9 316 435.9 183.6 414.2z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: 275px auto, 125% auto, 150% auto;
    background-position: 50% 10%;
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    z-index: -2;
  }
}

.main--bg-offset {
  &:before {
    content: " ";
    background-image: url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 160 150'%3E%3Cpath fill='#{$color-white-encoded}' d='M6 3.8c-6.3 1.7-7.9 8.9-3.5 13.9 1.7 1.9 3.8 3.4 6.1 4.4 6.9 3.1 14 3.6 21.3 2.2 4.5-.8 8.2-3.1 11.5-6.1 2-1.9 3.5-4.2 3.5-7.1C45.1 6 40 0 34.9 0 20.5 0 13.5 1.8 6 3.8zM86 78.8c-6.3 1.7-7.9 8.9-3.5 13.9 1.7 1.9 3.8 3.4 6.1 4.4 6.9 3.1 14 3.6 21.3 2.2 4.5-.8 8.2-3.1 11.5-6.1 2-1.9 3.5-4.2 3.5-7.1.1-5-5-11.1-10.1-11.1-14.3 0-21.3 1.8-28.8 3.8z'/%3E%3C/svg%3E");
    background-size: 55px;
    width: 550px;
    height: 320px;
    position: absolute;
    top: 8rem;
    left: 0;
    z-index: -2;
    @include transform(rotate(30deg));
  }

  &:after {
    content: " ";
    background-image:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 552 419'%3E%3Cpath fill='#{$color-pink-encoded}' d='M183.6 414.2c-32.8-5.4-20.7-42.9-36.6-62-19.5-23.3-63.6-23.1-91.4-27.4-54.9-8.4-80.7-22.7-20.2-47.8 72-29.9 138.8-54.5 199.4-106.3 33.7-28.7 61.3-62.4 89.3-96.6 16.8-20.6 43-63.5 70.6-71 83.2-22.5 45.2 107.2 81.3 136 17.5 14 51 2.1 67 18.9 18.3 19.3 3 61.1-5.3 83.3C487.5 375.9 316 435.9 183.6 414.2z'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 469.8 381.5'%3E%3Cpath fill='#{$color-green-encoded}' d='M452.9 294.8c-26 17.8-62.1-2.7-86.6 10.7-27.9 15.2-23.3 76-39.3 76-80.8 0-75.1-77.1-141.3-115.5-59-34.3-102.8-39-131.7-57.9-25.4-16.6-51.8-33.3-54-82.2-.6-12.3 7.7-31.1 26.1-31.1 17.8 0 36.7 11 52.3 11 10 0 13.3-7.1 12.2-21-1.2-15-16.8-42.2-17.9-60C71.7 8.3 85-4.5 123.3 1.5c38.5 6 87.2 54.5 115.1 53.3 27.7-1.1 12.2-37.8 43.3-37.8 32.2 0 127 103.4 168.9 190 19.4 40 30 68.9 2.3 87.8z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: 125% auto;
    background-position: 50% 4rem;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
  }
}

.main--bg-header {
  position: relative;

  &:after {
    content: " ";
    background-image:
      url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 469.8 381.5'%3E%3Cpath fill='#{$color-green-encoded}' d='M452.9 294.8c-26 17.8-62.1-2.7-86.6 10.7-27.9 15.2-23.3 76-39.3 76-80.8 0-75.1-77.1-141.3-115.5-59-34.3-102.8-39-131.7-57.9-25.4-16.6-51.8-33.3-54-82.2-.6-12.3 7.7-31.1 26.1-31.1 17.8 0 36.7 11 52.3 11 10 0 13.3-7.1 12.2-21-1.2-15-16.8-42.2-17.9-60C71.7 8.3 85-4.5 123.3 1.5c38.5 6 87.2 54.5 115.1 53.3 27.7-1.1 12.2-37.8 43.3-37.8 32.2 0 127 103.4 168.9 190 19.4 40 30 68.9 2.3 87.8z'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 552 419'%3E%3Cpath fill='#{$color-pink-encoded}' d='M183.6 414.2c-32.8-5.4-20.7-42.9-36.6-62-19.5-23.3-63.6-23.1-91.4-27.4-54.9-8.4-80.7-22.7-20.2-47.8 72-29.9 138.8-54.5 199.4-106.3 33.7-28.7 61.3-62.4 89.3-96.6 16.8-20.6 43-63.5 70.6-71 83.2-22.5 45.2 107.2 81.3 136 17.5 14 51 2.1 67 18.9 18.3 19.3 3 61.1-5.3 83.3C487.5 375.9 316 435.9 183.6 414.2z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: 125% auto, 150% auto;
    background-position: 60% -1rem, 55% 0;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -2;
    @include transform(scaleX(-1));
  }
}

.header + .main {
  margin-top: 63px;
}

@media (min-height: $break-height) {
  .main--bg-fixed:before {
    top: 25%;
  }

  .main--bg-fixed:after {
    background-position-y: 45%;
  }
}

@media (min-width: $break-tablet) {
  .header + .main {
    margin-top: 0;
  }

  .main--bg-fixed:after {
    background-size: 450px auto, 80% auto, 100% auto;
    background-position-x: 25%, 0, 100%;
    // background-position-y: calc(50% - 100px), 10%, 10%;
    max-width: calc(100% - 2rem);
    margin: 0 1rem;
  }

  .main--bg-offset {
    &:before {
      top: 5rem;
      left: 30%;
      position: fixed;
    }

    &:after {
      background-size: calc(100% - 1rem) auto;
      position: fixed;
    }
  }

  .main--bg-header:after {
    background-size: 100% auto;
    background-position: 0 0;
    top: -2rem;
  }
}

@media (min-width: $break-desktop) {
  .main--bg-fixed:after {
    max-width: calc(100% - 8rem);
    margin: 0 4rem;
  }

  .main--bg-offset {
    &:after {
      background-size: 92.5% auto;
      background-position: right 1.5rem;
      max-width: calc(#{$break-desktop-wide} - 7rem);
    }
  }

  .main--bg-header:after {
    background-size: 85% auto;
    background-position: 35% 1rem, 65% 0;
    top: -3rem;
  }
}

@media (min-width: $break-desktop-wide) {
  .main--bg-fixed:after {
    max-width: calc(#{$break-desktop-wide} - 6rem);
    margin: 0 calc((100% - (#{$break-desktop-wide} - 6rem)) / 2);
  }

  .main--bg-offset:after {
    margin-left: calc((100% - (#{$break-desktop-wide} - 6rem)) / 2);
  }

  .main--bg-header:after {
    background-position: 45% 0, 75% 0;
    top: -4rem;
  }
}

@media (min-width: $break-desktop) and (min-height: $break-height) {
  .main--bg-offset:after {
    background-position-y: 4rem;
  }
}