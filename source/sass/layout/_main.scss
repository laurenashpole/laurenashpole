.main {
  @include flex-child(2);
  @include flex();
  @include flex-direction(column);
}

.main--bg-fixed {
  @include flex-justify(center);

  // &:before {
  //   content: " ";
  //   background-image: url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 160 150'%3E%3Cpath fill='#{$color-pink-encoded}' d='M6 3.8c-6.3 1.7-7.9 8.9-3.5 13.9 1.7 1.9 3.8 3.4 6.1 4.4 6.9 3.1 14 3.6 21.3 2.2 4.5-.8 8.2-3.1 11.5-6.1 2-1.9 3.5-4.2 3.5-7.1C45.1 6 40 0 34.9 0 20.5 0 13.5 1.8 6 3.8zM86 78.8c-6.3 1.7-7.9 8.9-3.5 13.9 1.7 1.9 3.8 3.4 6.1 4.4 6.9 3.1 14 3.6 21.3 2.2 4.5-.8 8.2-3.1 11.5-6.1 2-1.9 3.5-4.2 3.5-7.1.1-5-5-11.1-10.1-11.1-14.3 0-21.3 1.8-28.8 3.8z'/%3E%3C/svg%3E");
  //   background-size: 55px;
  //   width: 550px;
  //   height: 320px;
  //   position: fixed;
  //   top: 7.5rem;
  //   left: calc(50% - 200px);
  //   z-index: -1;
  //   @include transform(rotate(30deg));
  // }

  &:after {
    content: " ";
    background-image:
      url("data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0' y='0' viewBox='0 0 515.4 345.7' xml:space='preserve'%3E%3Cpath fill='#{$color-orange-encoded}' d='M131.8 69.5c6.1 0 10.4 2.8 11.9 7.5 1.5 4.9-.6 10-5.5 13-1.1.7-2.2 1.2-3.4 1.7-11.4 4.1-22.9 8.2-34.4 12.1-2.2.8-4.6 1.2-6.9 1.3-3.5.2-6.4-1.2-8.1-4.5-1.6-3.2-1.1-6.4 1-9.2 1.1-1.4 2.4-2.8 3.8-3.8 11.6-8.4 24.5-14 38.3-17.7 1.2-.4 2.5-.3 3.3-.4zM324 87.3c-2.1-.2-4.1-.2-6-.6-6.5-1.6-8.4-8.3-3.7-13 1.6-1.6 3.7-3 5.7-4.2 10.3-5.9 21.4-10.1 33.2-11.7 4.2-.6 8.9-.4 12.8.9 8.7 2.9 9.9 12.4 2.7 17.9-1.7 1.3-3.7 2.5-5.7 3-12.8 3.6-25.8 6.3-39 7.7zM232.6 265.5c-4-.1-6.9-.7-8.4-4-1.5-3.4.1-6 2.3-8.3 1.2-1.3 2.6-2.5 4.1-3.5 11.6-7.4 24.3-12.3 38.1-13.6 2.9-.3 5.8-.1 8.7.2 4.9.5 8.1 3.3 9 7.4.8 4-1.1 7.8-5.5 10.3-1.4.8-2.9 1.5-4.4 2.1-14.4 5.5-29.6 7.2-43.9 9.4zM322.1 138.3c2.6.2 4.1.2 5.5.5 4.2 1 7.5 3 8.4 7.5.9 4.2-.9 7.7-4.3 9.9-3.3 2.1-7 4-10.8 5-9.6 2.6-19.4 4.7-29.1 7-1.9.4-3.9.7-5.9.8-3.3.1-6.1-1.2-7.6-4.3-1.5-3.3-.7-6.4 1.6-9.1.6-.7 1.2-1.4 1.9-1.9 12.4-8.9 26.6-13 40.3-15.4zM252 96.9h1.1c5.4.2 9.4 2.7 10.5 6.4 1 3.6-1.2 7.8-5.8 10.7-2.5 1.5-5.1 2.8-7.9 3.7-10.8 3.6-21.8 7-32.7 10.4-.9.3-1.8.4-2.7.5-4.6.7-7.6-.6-9.4-3.8-1.7-3.1-1.4-6.8 1.7-10 2.3-2.5 5.1-4.8 8-6.4 11.1-6.1 23.1-9.5 35.6-11.4.7-.1 1.4-.1 1.6-.1zM342.7 228c-4.7-.2-7.8-1.2-9.5-4.9-1.5-3.5-.5-6.7 2-9 3.3-3 7-5.9 10.9-8 7.6-4.1 15.8-6.6 24.3-7.7 2.8-.4 5.9-.2 8.6.7 6.8 2.2 9.1 9.9 4.4 15.4-1.9 2.3-4.7 4.2-7.4 5.3-5.1 1.9-10.4 3.3-15.6 4.6-6.1 1.4-12.4 2.5-17.7 3.6zM147.4 137.1c1.6.3 3.5.5 5.1 1.1 5.3 2.1 7.3 8 3.9 12.5-1.9 2.5-4.7 4.7-7.5 6-10.3 4.5-20.8 6.5-31.3 10.5-2 .8-4.2 1.1-6.4 1.2-3.5.2-6.4-1.3-7.9-4.6-1.6-3.4-.3-6.4 2.1-8.9.8-.8 1.6-1.5 2.5-2.1 10-7.8 21.4-10.9 33.4-14.6 1.9-.7 3.9-.8 6.1-1.1zM137.9 306.5c-6.1.1-9.2-4.7-6.4-9.9 1.2-2.2 2.9-4.2 4.8-5.9 7.9-7 17-11.9 27.1-14.6 2.9-.8 6.1-.9 9.1-.5 4.2.5 7.5 2.8 8.9 7 1.5 4.3 0 8-3.1 10.8-2.1 1.9-4.6 3.8-7.3 4.6-10.4 3-21 5.6-31.6 8.3-.5.1-1.1.1-1.5.2zM215.7 179c.7 0 1.2 0 1.7.1 4.9.5 8.3 2.9 9.2 6.5 1 4-.6 7.9-4.8 10.7-2.1 1.4-4.4 2.5-6.8 3.4-9.1 3.2-18.2 6.2-27.3 9.2-1.9.6-3.9.9-5.9 1-3.5.1-6.4-1.3-8-4.6-1.5-3.1-.8-6.1 1.3-8.6 1.1-1.4 2.4-2.7 3.9-3.8 10.5-7.2 22.1-11.5 34.6-13.7.8-.2 1.5-.2 2.1-.2zM9.9 292.1c-7.5 0-11.9-6.2-9-12.7 1.2-2.6 3.1-5 5.2-6.9 7.3-6.7 16.1-10.5 25.7-12.4 3.1-.6 6.6-.3 9.6.7 6.5 2.1 8.8 8.8 4.9 14.5-1.8 2.6-4.3 5.2-7.1 6.4-8.7 3.7-17.6 6.7-26.4 10-1.1.4-2.2.3-2.9.4zM392.7 137.9c-3.9-.6-7-.7-9.9-1.7-5.7-2-6.8-7.9-2.5-12.1.8-.8 1.7-1.4 2.6-1.9 9.5-4.9 19.4-9.1 30.2-10.2 3.1-.3 6.6.1 9.5 1.2 7.3 2.7 8.8 11 3 16.2-2.4 2.1-5.5 3.8-8.5 4.5-8.3 1.6-16.7 2.7-24.4 4zM296.8 24.7c-3.8-.4-6.6-3.4-7.3-6.5-.9-3.4.6-6 3.1-8.2.8-.7 1.7-1.4 2.7-1.9 9.3-5.1 19-7 29.6-8 3.2-.3 6.5.1 9.6.9 3.7 1 6.2 3.9 6.6 7.9.4 4.1-1.6 6.9-5 8.9-1.1.6-2.2 1.3-3.4 1.6-10.9 2.4-21.9 2.8-32.8 5.1M193.6 58.7c-4 .1-6.7-.9-8.1-3.9-1.2-2.6-.4-5.9 2.2-8.4 1.6-1.5 3.4-2.7 5.3-3.8 9.2-5.3 19.1-9 29.4-11.1 3.1-.6 6.5-.6 9.7-.3 3.9.4 6.7 3.2 7.2 6.5.6 3.7-1.2 6.3-4.1 8.3-1.5 1-3.2 1.9-4.9 2.4-11 3.3-21.9 6.5-32.9 9.6-1.4.5-3 .6-3.8.7zM56.5 345.7c-4.4-.2-8.1-1-10.1-4.9-2.1-4-1-7.9 1.8-11.1 7.3-8.5 17.1-12.1 27.9-12.8 5.6-.3 10.1 3.6 11.3 8.5 1.2 5.1-.8 10.3-5.8 12.9-8 4-16.6 6.5-25.1 7.4zM429.5 51.8c-5.2-.7-8.1-2.3-9.2-6.1s.4-7 3.4-9.1c8.8-6.3 18.6-9.7 29.6-8.3 1.9.2 3.9 1 5.5 2 5.4 3.4 6 10 1.5 14.3-1.3 1.2-2.9 2.3-4.5 3-9 3.6-18.4 3.8-26.3 4.2zM478.3 110.8c-4.3-.4-7.9-1-9.6-4.7-1.2-2.7.4-5.4 4.7-8.2 7.8-5.1 16.3-6.7 25.4-8.5 3.1-.6 6.5-.5 9.7 0 3.7.6 6.1 3.1 6.8 6.9.6 3.6-.9 6.5-3.8 8.4-1.8 1.2-3.8 2.3-5.9 2.7-9.4 1.6-18.9 2-27.3 3.4zM103.6 247.6c-3.3.1-5.7-.7-7-3.2-1.5-2.7-1-5.5.9-7.6 2.2-2.4 4.5-4.8 7.3-6.4 5.3-3.1 10.7-6.1 16.4-8.2 3-1.1 6.9-1 10.1-.2 6.9 1.9 8.5 8.9 3.5 14-1.1 1.2-2.4 2.4-3.9 2.9-8.3 3-16.7 5.7-25.1 8.5-1 .2-1.9.2-2.2.2zM47.1 184.1c6.6 0 9.6 1.8 10.7 5.2 1.1 3.3-.3 6.6-4.2 9.2-1.8 1.2-3.8 2.2-5.8 3-4.5 1.9-9 3.8-13.6 5.5-1.7.6-3.5 1.3-5.2 1.3-4.4.2-7-3.3-5.8-7.6.2-.7.4-1.4.9-2 6.3-8.2 14.7-13.1 23-14.6z'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 469.8 381.5'%3E%3Cpath fill='#{$color-blue-encoded}' d='M452.9 294.8c-26 17.8-62.1-2.7-86.6 10.7-27.9 15.2-23.3 76-39.3 76-80.8 0-75.1-77.1-141.3-115.5-59-34.3-102.8-39-131.7-57.9-25.4-16.6-51.8-33.3-54-82.2-.6-12.3 7.7-31.1 26.1-31.1 17.8 0 36.7 11 52.3 11 10 0 13.3-7.1 12.2-21-1.2-15-16.8-42.2-17.9-60C71.7 8.3 85-4.5 123.3 1.5c38.5 6 87.2 54.5 115.1 53.3 27.7-1.1 12.2-37.8 43.3-37.8 32.2 0 127 103.4 168.9 190 19.4 40 30 68.9 2.3 87.8z'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 552 419'%3E%3Cpath fill='#{$color-green-encoded}' d='M183.6 414.2c-32.8-5.4-20.7-42.9-36.6-62-19.5-23.3-63.6-23.1-91.4-27.4-54.9-8.4-80.7-22.7-20.2-47.8 72-29.9 138.8-54.5 199.4-106.3 33.7-28.7 61.3-62.4 89.3-96.6 16.8-20.6 43-63.5 70.6-71 83.2-22.5 45.2 107.2 81.3 136 17.5 14 51 2.1 67 18.9 18.3 19.3 3 61.1-5.3 83.3C487.5 375.9 316 435.9 183.6 414.2z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: 320px auto, 125% auto, 150% auto;
    background-position: 50% 10%;
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    z-index: -2;
  }
}

.main--bg-offset {
  &:before {
    content: " ";
    background-image: url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 160 150'%3E%3Cpath fill='#{$color-white-encoded}' d='M6 3.8c-6.3 1.7-7.9 8.9-3.5 13.9 1.7 1.9 3.8 3.4 6.1 4.4 6.9 3.1 14 3.6 21.3 2.2 4.5-.8 8.2-3.1 11.5-6.1 2-1.9 3.5-4.2 3.5-7.1C45.1 6 40 0 34.9 0 20.5 0 13.5 1.8 6 3.8zM86 78.8c-6.3 1.7-7.9 8.9-3.5 13.9 1.7 1.9 3.8 3.4 6.1 4.4 6.9 3.1 14 3.6 21.3 2.2 4.5-.8 8.2-3.1 11.5-6.1 2-1.9 3.5-4.2 3.5-7.1.1-5-5-11.1-10.1-11.1-14.3 0-21.3 1.8-28.8 3.8z'/%3E%3C/svg%3E");
    background-size: 55px;
    width: 550px;
    height: 320px;
    position: absolute;
    top: 8rem;
    left: 0;
    z-index: -2;
    @include transform(rotate(30deg));
  }

  &:after {
    content: " ";
    background-image:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 552 419'%3E%3Cpath fill='#{$color-pink-encoded}' d='M183.6 414.2c-32.8-5.4-20.7-42.9-36.6-62-19.5-23.3-63.6-23.1-91.4-27.4-54.9-8.4-80.7-22.7-20.2-47.8 72-29.9 138.8-54.5 199.4-106.3 33.7-28.7 61.3-62.4 89.3-96.6 16.8-20.6 43-63.5 70.6-71 83.2-22.5 45.2 107.2 81.3 136 17.5 14 51 2.1 67 18.9 18.3 19.3 3 61.1-5.3 83.3C487.5 375.9 316 435.9 183.6 414.2z'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 469.8 381.5'%3E%3Cpath fill='#{$color-green-encoded}' d='M452.9 294.8c-26 17.8-62.1-2.7-86.6 10.7-27.9 15.2-23.3 76-39.3 76-80.8 0-75.1-77.1-141.3-115.5-59-34.3-102.8-39-131.7-57.9-25.4-16.6-51.8-33.3-54-82.2-.6-12.3 7.7-31.1 26.1-31.1 17.8 0 36.7 11 52.3 11 10 0 13.3-7.1 12.2-21-1.2-15-16.8-42.2-17.9-60C71.7 8.3 85-4.5 123.3 1.5c38.5 6 87.2 54.5 115.1 53.3 27.7-1.1 12.2-37.8 43.3-37.8 32.2 0 127 103.4 168.9 190 19.4 40 30 68.9 2.3 87.8z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: 125% auto;
    background-position: 50% 4rem;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
  }
}

.main--bg-header {
  position: relative;

  &:after {
    content: " ";
    background-image:
      url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 469.8 381.5'%3E%3Cpath fill='#{$color-green-encoded}' d='M452.9 294.8c-26 17.8-62.1-2.7-86.6 10.7-27.9 15.2-23.3 76-39.3 76-80.8 0-75.1-77.1-141.3-115.5-59-34.3-102.8-39-131.7-57.9-25.4-16.6-51.8-33.3-54-82.2-.6-12.3 7.7-31.1 26.1-31.1 17.8 0 36.7 11 52.3 11 10 0 13.3-7.1 12.2-21-1.2-15-16.8-42.2-17.9-60C71.7 8.3 85-4.5 123.3 1.5c38.5 6 87.2 54.5 115.1 53.3 27.7-1.1 12.2-37.8 43.3-37.8 32.2 0 127 103.4 168.9 190 19.4 40 30 68.9 2.3 87.8z'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 552 419'%3E%3Cpath fill='#{$color-pink-encoded}' d='M183.6 414.2c-32.8-5.4-20.7-42.9-36.6-62-19.5-23.3-63.6-23.1-91.4-27.4-54.9-8.4-80.7-22.7-20.2-47.8 72-29.9 138.8-54.5 199.4-106.3 33.7-28.7 61.3-62.4 89.3-96.6 16.8-20.6 43-63.5 70.6-71 83.2-22.5 45.2 107.2 81.3 136 17.5 14 51 2.1 67 18.9 18.3 19.3 3 61.1-5.3 83.3C487.5 375.9 316 435.9 183.6 414.2z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: 125% auto, 150% auto;
    background-position: 60% -1rem, 55% 0;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -2;
    @include transform(scaleX(-1));
  }
}

.header + .main {
  margin-top: 63px;
}

@media (min-height: $break-height) {
  .main--bg-fixed:before {
    top: 25%;
  }

  .main--bg-fixed:after {
    background-position-y: 45%;
  }
}

@media (min-width: $break-tablet) {
  .header + .main {
    margin-top: 0;
  }

  .main--bg-fixed:after {
    background-size: 320px auto, 80% auto, 100% auto;
    background-position-x: 50%, 0, 100%;
    max-width: calc(100% - 2rem);
    margin: 0 1rem;
  }

  .main--bg-offset {
    &:before {
      top: 5rem;
      left: 30%;
      position: fixed;
    }

    &:after {
      background-size: calc(100% - 1rem) auto;
      position: fixed;
    }
  }

  .main--bg-header:after {
    background-size: 100% auto;
    background-position: 0 0;
    top: -2rem;
  }
}

@media (min-width: $break-desktop) {
  .main--bg-fixed:after {
    max-width: calc(100% - 8rem);
    margin: 0 4rem;
  }

  .main--bg-offset {
    &:after {
      background-size: 92.5% auto;
      background-position: right 1.5rem;
      max-width: calc(#{$break-desktop-wide} - 7rem);
    }
  }

  .main--bg-header:after {
    background-size: 85% auto;
    background-position: 35% 1rem, 65% 0;
    top: -3rem;
  }
}

@media (min-width: $break-desktop-wide) {
  .main--bg-fixed:after {
    max-width: calc(#{$break-desktop-wide} - 6rem);
    margin: 0 calc((100% - (#{$break-desktop-wide} - 6rem)) / 2);
  }

  .main--bg-offset:after {
    margin-left: calc((100% - (#{$break-desktop-wide} - 6rem)) / 2);
  }

  .main--bg-header:after {
    background-position: 45% 0, 75% 0;
    top: -4rem;
  }
}

@media (min-width: $break-desktop) and (min-height: $break-height) {
  .main--bg-offset:after {
    background-position-y: 4rem;
  }
}